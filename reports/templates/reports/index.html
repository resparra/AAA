<html>
<head>
	<title>Home Page</title>
	<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
	<style type="text/css">
		body { background-color:gray; min-width: 800px;}
		#map { height: 84%; width: 75%; }
		#banner { height: 110px; width: 100%; background-color: black; }
		#rigtside { width: 25%; float: right; }
		#news {
		 	text-align: center;
		 	border: 3px solid;
		 	border-radius: 3px;
		 	margin: 25px;
		 	height: 65%;
		 	overflow-y: scroll;
		 }
		#login {
			float:right; 
			font-color:white; 
			margin-right:8%; 
			text-align: center;
		}
		.widget { text-align: center; border: 3px solid; border-radius: 3px; margin: 25px; }
		.feed { margin: 5px; }
	</style>
	<script type="text/javascript">
		
		$(document).ready(function() {
			var map = L.map('map').setView([18.15, -66.30], 9);

			L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
	    		attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
			}).addTo(map);

			{% for x in report_list %}
			 	var marker{{forloop.counter}} = L.marker([ {{x.latitude}} , {{x.longitude}} ]).addTo(map);
			 	marker{{forloop.counter}}.bindPopup('{{ x.description }} : {{x.date}} <br> <img src={{x.photo_path}} height=100 width=120 align="middle"/>');
			{% endfor %}

			$("#pueblos").change(function () {
			 	if ($(this).val() == "San Juan")
			 		map.setView([18.385153,-66.062958], 12);
			 	else if ($(this).val() == "Aibonito")
			 		map.setView([18.140142,-66.266455], 13);
				else if ($(this).val() == "Mayagüez")
			 		map.setView([18.198044,-67.128235], 13);
			 	else if ($(this).val() == "Caguas")
			 		map.setView([18.234895,-66.045052], 13);
			 	else if ($(this).val() == "Ponce")
			 		map.setView([18.008121,-66.608841], 13);
			 	else if ($(this).val() == "Vieques")
			 		map.setView([18.126602,-65.441147], 12);
			 	else if ($(this).val() == "Culebra")
			 		map.setView([18.317374,-65.287682], 13);
			 	else if ($(this).val() == "Fajardo")
			 		map.setView([18.326174,-65.652607], 13);
			 	else if ($(this).val() == "Arecibo")
			 		map.setView([18.464793,-66.716393], 13);
			 	else
			 		map.setView([18.15, -66.30], 9);
			 });

		});

	</script>
</head>
<body>
	<div id="banner">
		<br>
		<img src="/images/drop_logo.png" height=80 width=110 >
		<div id="login" >
			<form name="login-form" action="" method="post">
				<input name="username" type="text" placeholder="Username" /><br><!--END USERNAME-->
				<input name="password" type="password" placeholder="Password" /><br><!--END PASSWORD-->
				<input type="submit" name="submit" value="Login" /><!--END Login button-->
			</form>
		</div>
	</div>
	<div id="rigtside">
		<div id="views" class="widget">
			<br>
			VIEW POINT :
		<select id="pueblos" name="pueblos">
  			<option selected="selected">All</option>
 			<option>San Juan</option> <option>Aibonito</option>
			<option>Mayagüez</option> <option>Caguas</option>
			<option>Ponce</option>    <option>Arecibo</option>
			<option>Fajardo</option>  <option>Vieques</option>
			<option>Culebra</option>
		</select>
		<br><br>
		</div>
		<div id="news">
			{% for x in report_list %}
			<div class="feed"> 
				<h3> {{x.description}} : {{x.date}} </h3>
					<img src="{{x.photo_path}}" height=40 width=55 alt="No Avalible" >
				<p> {{x.status_comment}} </p>

				<hr>
			</div>
			{% endfor %}
		</div>
	</div>
	<div id="map"></div>

</body>
</html>
